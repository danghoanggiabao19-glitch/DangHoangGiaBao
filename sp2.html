<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>S·∫£n ph·∫©m - ElectroShop</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        /* HEADER */
        .header {
            width: 100%;
            background: #222;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
        }

        .search-container input {
            padding: 8px;
            width: 250px;
        }

        .search-container button {
            padding: 8px 12px;
            cursor: pointer;
        }

        .icons a {
            color: white;
            font-size: 22px;
            margin-left: 10px;
            text-decoration: none;
        }

        /* MENU */
        .menu {
            background: #444;
            padding: 10px;
        }

        .menu ul {
            display: flex;
            list-style: none;
        }

        .menu a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
        }

        .menu a:hover, .active {
            background: #666;
            border-radius: 5px;
        }

        /* DANH M·ª§C */
        .category-section {
            padding: 20px;
            text-align: center;
        }

        .category-box {
            width: 220px;
            background: #f5f5f5;
            display: inline-block;
            margin: 15px;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: 0.3s;
        }

        .category-box:hover {
            background: #e1e1e1;
        }

        .category-box img {
            width: 100%;
            height: 160px;
            object-fit: cover;
            border-radius: 6px;
        }

        /* S·∫¢N PH·∫®M CON */
        .products {
            padding: 20px;
        }

        #items {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .product-item {
            width: 230px;
            background: #f5f5f5;
            padding: 15px;
            margin: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .product-item img {
            width: 100%;
            height: 165px;
            object-fit: cover;
            border-radius: 6px;
        }
        
        /* CSS cho n√∫t Th√™m v√†o gi·ªè */
        .add-to-cart {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            margin-top: 10px;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .add-to-cart:hover {
            background: #0056b3;
        }
/* --- CSS M·ªöI CHO N√öT V√Ä CƒÇN CH·ªàNH --- */
        .product-actions-inline {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            gap: 5px; /* Kho·∫£ng c√°ch gi·ªØa 2 n√∫t */
        }

        .product-item .add-to-cart {
            padding: 8px 5px; 
            flex-grow: 1; /* Cho√°n h·∫øt kh√¥ng gian c√≥ th·ªÉ */
            font-size: 14px;
            margin-top: 0; 
        }

        .buy-now-btn-small {
            display: inline-block;
            background: #dc3545; /* M√†u ƒë·ªè */
            color: white;
            border: none;
            padding: 8px 5px;
            cursor: pointer;
            border-radius: 5px;
            text-decoration: none;
            text-align: center;
            flex-grow: 1;
            font-size: 14px;
            transition: background 0.3s;
        }

        .buy-now-btn-small:hover {
            background: #c82333;
        }
        /* FOOTER */
        .footer {
            background: #222;
            color: white;
            padding: 20px;
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
            text-align: left;
        }
        .footer div {
            max-width: 300px;
            padding: 10px;
        }

        .footer h3 {
            margin-bottom: 15px;
        }

        .footer p {
            margin-bottom: 5px;
            font-size: 14px;
        }
    </style>
</head>
<body>

<header class="header">
    <div class="logo">
        <img src="logo.jpg" alt="ElectroShop Logo" width="80">
    </div>

    <div class="search-container">
        <input type="text" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m...">
        <button>T√¨m</button>
    </div>

    <div class="icons">
        <a href="gi·ªè h√†ng.html">üõí</a>
        <span id="cart-count">0</span> | 
        <span id="cart-total">0‚Ç´</span>
        <a href="dn.html">üë§</a>
    </div>
</header>

<nav class="menu">
    <ul>
        <li><a href="index.html">Trang ch·ªß</a></li>
        <li><a href="sanpham2.html" class="active">S·∫£n ph·∫©m</a></li>
        <li><a href="km2.html">Khuy·∫øn m√£i</a></li>
        <li><a href="hotro2.html">H·ªó tr·ª£ kh√°ch h√†ng</a></li>
    </ul>
</nav>

<section class="category-section">
    <h2>Danh m·ª•c s·∫£n ph·∫©m</h2>

    <div class="category-box" data-target="phone">
        <img src="iphone1.jpg">
        <h3>ƒêi·ªán tho·∫°i</h3>
    </div>

    <div class="category-box" data-target="laptop">
        <img src="laptop1.jpg">
        <h3>Laptop</h3>
    </div>

    <div class="category-box" data-target="headphone">
        <img src="airpods1.jpg">
        <h3>Tai nghe</h3>
    </div>

    <div class="category-box" data-target="accessory">
        <img src="phukien.jpg">
        <h3>Ph·ª• ki·ªán</h3>
    </div>
</section>

<section class="products">
    <h2 id="product-title">Ch·ªçn danh m·ª•c ƒë·ªÉ xem s·∫£n ph·∫©m</h2>
    <div id="items"></div>
</section>

<footer class="footer">
    <div>
        <h3>Li√™n h·ªá</h3>
           <div class="logo">
         <img src="logo.jpg" alt="ElectroShop Logo" width="80">
         </div>
        <p>C√¥ng ty C·ªï ph·∫ßn ElectroShop</p>
        <p>Uy t√≠n ch·∫•t l∆∞·ª£ng</p>
        <p>Hotline: 0123 456 789</p>
        <p><strong>ƒê·ªãa ch·ªâ:</strong> 123 Nguy·ªÖn Tr√£i, ph∆∞·ªùng Ph√∫ Th·ªßy, TP.Phan Thi·∫øt</p>
        <p><strong>Email:</strong> ƒêHGB·∫¢O@electroshop.vn</p>
    </div>

    <div>
        <h3>Ch√≠nh s√°ch - H∆∞·ªõng d·∫´n</h3>
        <p>Ch√≠nh s√°ch b√°n h√†ng</p>
        <p>Ch√≠nh s√°ch ƒë·ªïi tr·∫£, b·∫£o h√†nh</p>
        <p>Ch√≠nh s√°ch giao h√†ng, ki·ªÉm h√†ng</p>
        <p>Ch√≠nh s√°ch b·∫£o m·∫≠t</p>
        <p>Ch√≠nh s√°ch tr·∫£ g√≥p 0%</p>
        <p>Ch√≠nh s√°ch ho√†n ti·ªÅn</p>
        <p>Ch√≠nh s√°ch ∆∞u ƒë√£i</p>
        <p>H∆∞·ªõng d·∫´n kh√°ch h√†ng</p>
        <p>H∆∞·ªõng d·∫´n mua h√†ng</p>
        <p>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</p>
    </div>

    <div>
        <h3>K·∫øt n·ªëi v·ªõi ch√∫ng t√¥i</h3>
        <p>Facebook | TikTok | YouTube</p>
        <p>Ph∆∞∆°ng th·ª©c Thanh to√°n: Visa | MasterCard | PayPal</p>
    </div>
</footer>

<script>
const list = document.getElementById("items");
const title = document.getElementById("product-title");
function parsePrice(priceStr) {
    return parseInt(priceStr.replace(/ƒë/g, '').replace(/\./g, ''));
}
function createSlug(name) {

    return 'chitiet' + name.toLowerCase()
        .replace(/ƒë/g, 'd')
        .replace(/\s+/g, '')
        .replace(/[^a-z0-9]/g, '')
        .trim() + '.html';
}
const products = {
    phone: [
        {name:"iPhone 15 Pro Max", img:"iphone1.jpg", price:"31.990.000ƒë"},
        {name:"Samsung Galaxy S23", img:"samsung.jpg", price:"22.990.000ƒë"},
        {name:"Xiaomi 13", img:"Xiaomi 13.jpg", price:"14.990.000ƒë"},
        {name:"Oppo A77s", img:"oppo.jpg", price:"7.990.000ƒë"}
    ],
    laptop: [
        {name:"MacBook Pro 2023", img:"laptop1.jpg", price:"49.990.000ƒë"},
        {name:"Dell XPS 13", img:"Dell XPS 13.jpg", price:"28.990.000ƒë"},
        {name:"HP Spectre x360", img:"HP Spectre x360.jpg", price:"35.990.000ƒë"}
    ],
    headphone: [
        {name:"AirPods Pro 2", img:"airpods1.jpg", price:"2.990.000ƒë"},
        {name:"Sony WH-1000XM5", img:"tainghe2.jpg", price:"1.990.000ƒë"},
        {name:"Bose QC45", img:"tainghe3.jpg", price:"1.990.000ƒë"},
        {name:"Tai nghe d√¢y nh√©t tai Type C Choetech OC-A011. ", img:"tainghe4.jpg", price:"150.000ƒë"},
    ],
    accessory: [
        {name:"S·∫°c nhanh 30W", img:"s·∫°c30w.jpg", price:"390.000ƒë"},
        {name:"C√°p Type-C", img:"captypec.jpg", price:"120.000ƒë"},
        {name:"·ªêp l∆∞ng IPhone", img:"opiphone.jpg", price:"100.000ƒë"},
        {name:"·ªêp l∆∞ng Samsung", img:"opsamsung.jpg", price:"100.000ƒë"},
        {name:"·ªêp l∆∞ng Xiaomi", img:"opxiaomi.jpg", price:"100.000ƒë"},
        {name:"·ªêp l∆∞ng Oppo", img:"opoppo.jpg", price:"100.000ƒë"},
        {name:"C√°c lo·∫°i ·ªëp l∆∞ng kh√°c ", img:"oplung.jpg", price:"100.000ƒë"},
        {name:"Pin s·∫°c d·ª± ph√≤ng Xiaomi", img:"sacduphong.jpg", price:"600.000ƒë"},
        {name:"B√†n ph√≠m c∆° c√≥ d√¢y", img:"phimcoday.jpg", price:"990.000ƒë"},
        {name:"B√†n ph√≠m c∆° kh√¥ng d√¢y", img:"phimkhongday.jpg", price:"1.990.000ƒë"},
        {name:"Chu·ªôt c√≥ d√¢y", img:"chuotday.jpg", price:"790.000ƒë"},
    ]
};
// S·ª¨A ƒê·ªîI CH√çNH ·ªû ƒê√ÇY: Th√™m n√∫t "MUA NGAY"
document.querySelectorAll(".category-box").forEach(box => {
    box.addEventListener("click", () => {
        const type = box.dataset.target;
        title.innerText = box.innerText;
        
        list.innerHTML = products[type].map(p => {
            const detailSlug = createSlug(p.name); 
            
            return `
                <div class="product-item">
                    <img src="${p.img}">
                    <h3>${p.name}</h3>
                    <p>Gi√°: ${p.price}</p>
                    
                    <div class="product-actions-inline">
                        <button 
                            class="add-to-cart" 
                            data-name="${p.name}" 
                            data-price="${parsePrice(p.price)}" 
                            data-image="${p.img}">
                            Th√™m v√†o gi·ªè
                        </button>
                        
                        <a href="${detailSlug}" class="buy-now-btn-small">
                            MUA NGAY
                        </a>
                    </div>
                </div>
            `;
        }).join("");
        
        attachCartListeners();
    });
});

const countSpan = document.getElementById("cart-count");
const totalSpan = document.getElementById("cart-total");
let cart = JSON.parse(localStorage.getItem("cart")) || [];

function updateHeaderCart() {
    let totalQuantity = cart.reduce((sum, item) => sum + item.quantity, 0);
    let totalPrice = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);

    countSpan.textContent = totalQuantity;
    totalSpan.textContent = totalPrice.toLocaleString("vi-VN") + "‚Ç´";
}

function attachCartListeners() {
    document.querySelectorAll(".add-to-cart").forEach(btn => {
        btn.addEventListener("click", () => {
            const name = btn.dataset.name;
            const price = parseInt(btn.dataset.price);
            const image = btn.dataset.image;

            const index = cart.findIndex(item => item.name === name);
            if (index >= 0) {
                cart[index].quantity += 1;
            } else {
                cart.push({ name: name, price: price, image: image, quantity: 1 });
            }
            localStorage.setItem("cart", JSON.stringify(cart));
            updateHeaderCart();
            
            alert(`ƒê√£ th√™m ${name} v√†o gi·ªè h√†ng!`); 
        });
    });
}
updateHeaderCart();

</script>

</body>
</html>